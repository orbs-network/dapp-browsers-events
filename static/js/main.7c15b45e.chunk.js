(this["webpackJsonpdapp-browsers-events"]=this["webpackJsonpdapp-browsers-events"]||[]).push([[0],{182:function(e){e.exports=JSON.parse('{"abi":[{"constant":true,"inputs":[],"name":"rewardsDistributor","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"renounceOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"isOwner","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"orbs","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"inputs":[{"name":"_orbs","type":"address"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"name":"distributionEvent","type":"string"},{"indexed":true,"name":"recipient","type":"address"},{"indexed":false,"name":"amount","type":"uint256"}],"name":"RewardDistributed","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"distributionEvent","type":"string"},{"indexed":false,"name":"batchHash","type":"bytes32[]"},{"indexed":false,"name":"batchCount","type":"uint256"}],"name":"RewardsDistributionAnnounced","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"distributionEvent","type":"string"},{"indexed":false,"name":"batchHash","type":"bytes32"},{"indexed":false,"name":"batchIndex","type":"uint256"}],"name":"RewardsBatchExecuted","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"distributionEvent","type":"string"},{"indexed":false,"name":"abortedBatchHashes","type":"bytes32[]"},{"indexed":false,"name":"abortedBatchIndices","type":"uint256[]"}],"name":"RewardsDistributionAborted","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"distributionEvent","type":"string"}],"name":"RewardsDistributionCompleted","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"previousRewardsDistributor","type":"address"},{"indexed":true,"name":"newRewardsDistributor","type":"address"}],"name":"RewardsDistributorReassigned","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"previousOwner","type":"address"},{"indexed":true,"name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"constant":false,"inputs":[{"name":"_distributionEvent","type":"string"},{"name":"_batchHashes","type":"bytes32[]"}],"name":"announceDistributionEvent","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_distributionEvent","type":"string"}],"name":"abortDistributionEvent","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_distributionEvent","type":"string"},{"name":"_recipients","type":"address[]"},{"name":"_amounts","type":"uint256[]"}],"name":"distributeRewards","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_distributionEvent","type":"string"},{"name":"_recipients","type":"address[]"},{"name":"_amounts","type":"uint256[]"},{"name":"_batchIndex","type":"uint256"}],"name":"executeCommittedBatch","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_distributionEvent","type":"string"}],"name":"getPendingBatches","outputs":[{"name":"pendingBatchHashes","type":"bytes32[]"},{"name":"pendingBatchIndices","type":"uint256[]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"drainOrbs","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_newRewardsDistributor","type":"address"}],"name":"reassignRewardsDistributor","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"isRewardsDistributor","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"}]}')},184:function(e,t,n){e.exports=n(444)},189:function(e,t,n){},200:function(e,t){},209:function(e,t){},227:function(e,t){},229:function(e,t){},252:function(e,t){},273:function(e,t){},275:function(e,t){},284:function(e,t){},286:function(e,t){},311:function(e,t){},313:function(e,t){},314:function(e,t){},320:function(e,t){},322:function(e,t){},340:function(e,t){},343:function(e,t){},359:function(e,t){},362:function(e,t){},367:function(e,t){},382:function(e,t){},383:function(e,t){},385:function(e,t){},438:function(e,t,n){},444:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),r=n(39),i=n.n(r),u=(n(189),n(15)),o=n.n(u),c=n(52),p=n(175),l=n.n(p),d=(n(438),n(464)),f=n(461),b=n(462),y=n(463),m=n(176),v=function(){for(var e,t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];m.isMobile&&alert(n.join(" : ")),(e=console).log.apply(e,n)},w=n(465);var h=function(e){var t=e.hasEthereum,n=e.distributionContract,r=Object(w.a)(!1),i=Object(w.a)(!1),u=Object(a.useCallback)(Object(c.a)(o.a.mark((function e(){var t,a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v("Called"),t={fromBlock:7439168,toBlock:"latest",filter:{recipient:"0xC5e624d6824e626a6f14457810E794E4603CFee2"}},n){e.next=5;break}return v("No rewards distribution contract"),e.abrupt("return");case 5:return r.setTrue(),e.prev=6,e.next=9,n.getPastEvents("RewardDistributed",t);case 9:return a=e.sent,s=a.map((function(e){return{distributionEvent:e.returnValues.distributionEvent,amount:BigInt(e.returnValues.amount),transactionHash:e.transactionHash}})),v("Got rewards",s.length),e.abrupt("return",s);case 15:return e.prev=15,e.t0=e.catch(6),v("error",e.t0),e.abrupt("return",[]);case 19:return e.prev=19,r.setFalse(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[6,15,19,22]])}))),[n,r]),p=Object(a.useCallback)(Object(c.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v("Called erc"),n){e.next=4;break}return v("No erc contract"),e.abrupt("return");case 4:return i.setTrue(),e.prev=5,e.abrupt("return",[]);case 9:return e.prev=9,e.t0=e.catch(5),v("error",e.t0),e.abrupt("return",[]);case 13:return e.prev=13,i.setFalse(),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[5,9,13,16]])}))),[n,i]);return t?s.a.createElement("div",null,s.a.createElement(f.a,{container:!0,direction:"column",spacing:2},s.a.createElement(f.a,{item:!0},s.a.createElement(b.a,{variant:"h3"},"Events reading tests")),s.a.createElement(f.a,{item:!0},s.a.createElement(d.a,{style:{color:"#ffffff",borderColor:"#ffffff"},variant:"outlined",onClick:p},"Read older events - ERC 20 contract"),i.value&&s.a.createElement(y.a,null)),i.value.toString(),s.a.createElement(f.a,{item:!0},s.a.createElement(d.a,{style:{color:"#ffffff",borderColor:"#ffffff"},variant:"outlined",onClick:u},"Read older events - Orbs contract"),r.value&&s.a.createElement(y.a,null)),r.value.toString())):s.a.createElement("div",null,"No ethereum provider")},E=n(182);var x=function(){var e=!!window.ethereum;Object(a.useEffect)((function(){function t(){return(t=Object(c.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=10;break}return t.prev=1,t.next=4,window.ethereum.enable();case 4:v("Enabled !"),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),v("Error when eneabling : ".concat(t.t0));case 10:case"end":return t.stop()}}),t,null,[[1,7]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]);var t=Object(a.useMemo)((function(){return e?new l.a(window.ethereum):null}),[e]),n=Object(a.useMemo)((function(){if(e&&t)return new t.eth.Contract(E.abi,"0xb2969e54668394bcA9B8AF61bC39B92754b7A7a0")}),[e,t]);return s.a.createElement("div",{className:"App"},s.a.createElement("header",{className:"App-header"},s.a.createElement(h,{hasEthereum:e,distributionContract:n})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(x,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[184,1,2]]]);
//# sourceMappingURL=main.7c15b45e.chunk.js.map